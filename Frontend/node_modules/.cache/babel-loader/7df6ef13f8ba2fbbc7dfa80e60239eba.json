{"ast":null,"code":"import axios from 'axios';\nbaseURL = 'http://localhost:8000/api/desktop/';\nexport const availableStations = async object => {\n  return await axios.post(baseURL, object);\n};\naxios.get('http://127.0.0.1:8000/api/user/', config).then(response => {\n  console.log(response.data);\n});\nexport const createBooking = async object => {\n  return await api.post(baseURL, object);\n};\nexport const submit = async (e, newReservation, user, stationSelected, setShowErrorMsg, setFinalShowPickTime, navigate) => {\n  e.preventDefault();\n  const today = Date.now();\n  const dateSelected = new Date(newReservation.startDate).getTime();\n\n  if (dateSelected < today) {\n    setShowErrorMsg('não é possivel realizar a reserva, data inválida');\n    setFinalShowPickTime(false);\n    return;\n  }\n\n  const reservation = {\n    stationName: stationSelected.name,\n    ...newReservation,\n    username: user.username\n  };\n\n  try {\n    await createBooking(reservation);\n    navigate('/myreservations', {\n      state: {\n        message: 'Reserva criada com sucesso!'\n      }\n    });\n  } catch (err) {\n    console.log(err);\n    setShowErrorMsg('Ocorreu algum erro ao realizar a reserva');\n  }\n};\nexport const startTime = (e, setNewReservation, newReservation, setFinalShowPickTime, setStationSelected, setShowErrorMsg) => {\n  const startDate = new Date(e.target.value);\n  setShowErrorMsg(false);\n  setStationSelected(false);\n  setNewReservation({ ...newReservation,\n    [e.target.name]: startDate\n  });\n  startDate !== null ? setFinalShowPickTime(true) : setFinalShowPickTime(false);\n};\nexport const finalTime = (newReservation, e, setNewReservation) => {\n  const initialDate = new Date(newReservation.startDate);\n  const finalDate = new Date( //  format yyyy/mm/dd hh:mm is ok\n  `${initialDate.getFullYear()}/${initialDate.getMonth() + 1}/${initialDate.getDate()} ${e.target.value}`);\n  setNewReservation({ ...newReservation,\n    [e.target.name]: finalDate\n  });\n};\nexport const verifyAvailable = async (e, newReservation, setStationsAvailable, setShowPickStationAvailable) => {\n  e.preventDefault();\n  const initialDate = new Date(newReservation.startDate);\n  const endDate = new Date(newReservation.finalDate);\n  const stations = await availableStations({\n    startDate: initialDate,\n    finalDate: endDate\n  });\n  setStationsAvailable(stations.data);\n  setShowPickStationAvailable(true);\n};\nexport const handlePickSelected = (event, station, setStationSelected, setShowPickStationAvailable) => {\n  event.preventDefault();\n  setStationSelected(station);\n  setShowPickStationAvailable(false);\n};\nexport const ShowDateReservation = _ref => {\n  let {\n    reservation\n  } = _ref;\n  const initialDate = new Date(reservation.startDate).toLocaleDateString();\n  const startHour = new Date(reservation.startDate).getHours().toString().padStart(2, '0');\n  const startMinutes = new Date(reservation.startDate).getMinutes().toString().padStart(2, '0');\n  const endHours = new Date(reservation.finalDate).getHours().toString().padStart(2, '0');\n  const endMinutes = new Date(reservation.finalDate).getMinutes().toString().padStart(2, '0');\n  return `${initialDate} das ${startHour}:${startMinutes} ás ${endHours}:${endMinutes}`;\n};\n_c = ShowDateReservation;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowDateReservation\");","map":{"version":3,"names":["axios","baseURL","availableStations","object","post","get","config","then","response","console","log","data","createBooking","api","submit","e","newReservation","user","stationSelected","setShowErrorMsg","setFinalShowPickTime","navigate","preventDefault","today","Date","now","dateSelected","startDate","getTime","reservation","stationName","name","username","state","message","err","startTime","setNewReservation","setStationSelected","target","value","finalTime","initialDate","finalDate","getFullYear","getMonth","getDate","verifyAvailable","setStationsAvailable","setShowPickStationAvailable","endDate","stations","handlePickSelected","event","station","ShowDateReservation","toLocaleDateString","startHour","getHours","toString","padStart","startMinutes","getMinutes","endHours","endMinutes"],"sources":["/home/shara/Workplace_Management/Frontend/src/components/pages/newReservation/NewReservation.jsx"],"sourcesContent":["import axios from 'axios';\n\nbaseURL = 'http://localhost:8000/api/desktop/';\n\nexport const availableStations = async (object) => {\n  return await axios.post(baseURL, object)\n}\n\naxios.get('http://127.0.0.1:8000/api/user/', config)\n      .then(response => {\n        console.log(response.data);\n      })\n\nexport const createBooking = async (object) => {\n  return await api.post(baseURL, object)\n}\n\nexport const submit = async (\n  e,\n  newReservation,\n  user,\n  stationSelected,\n  setShowErrorMsg,\n  setFinalShowPickTime,\n  navigate\n) => {\n  e.preventDefault();\n  const today = Date.now();\n  const dateSelected = new Date(newReservation.startDate).getTime();\n  if (dateSelected < today) {\n    setShowErrorMsg('não é possivel realizar a reserva, data inválida');\n    setFinalShowPickTime(false);\n    return;\n  }\n  const reservation = {\n    stationName: stationSelected.name,\n    ...newReservation,\n    username: user.username,\n  };\n  try {\n    await createBooking(reservation);\n    navigate('/myreservations', { state: { message: 'Reserva criada com sucesso!' } });\n  } catch (err) {\n    console.log(err);\n    setShowErrorMsg('Ocorreu algum erro ao realizar a reserva');\n  }\n};\n\nexport const startTime = (\n  e,\n  setNewReservation,\n  newReservation,\n  setFinalShowPickTime,\n  setStationSelected,\n  setShowErrorMsg\n) => {\n  const startDate = new Date(e.target.value);\n  setShowErrorMsg(false);\n  setStationSelected(false);\n  setNewReservation({ ...newReservation, [e.target.name]: startDate });\n  startDate !== null ? setFinalShowPickTime(true) : setFinalShowPickTime(false);\n};\n\nexport const finalTime = (newReservation, e, setNewReservation) => {\n  const initialDate = new Date(newReservation.startDate);\n  const finalDate = new Date( //  format yyyy/mm/dd hh:mm is ok\n    `${initialDate.getFullYear()}/${initialDate.getMonth() + 1}/${initialDate.getDate()} ${e.target.value}`\n  );\n  setNewReservation({ ...newReservation, [e.target.name]: finalDate });\n};\n\nexport const verifyAvailable = async (e, newReservation, setStationsAvailable, setShowPickStationAvailable) => {\n  e.preventDefault();\n  const initialDate = new Date(newReservation.startDate);\n  const endDate = new Date(newReservation.finalDate);\n  const stations = await availableStations({\n    startDate: initialDate,\n    finalDate: endDate,\n  });\n  setStationsAvailable(stations.data);\n  setShowPickStationAvailable(true);\n};\n\nexport const handlePickSelected = (event, station, setStationSelected, setShowPickStationAvailable) => {\n  event.preventDefault();\n  setStationSelected(station);\n  setShowPickStationAvailable(false);\n};\n\nexport const ShowDateReservation = ({ reservation }) => {\n  const initialDate = new Date(reservation.startDate).toLocaleDateString();\n  const startHour = new Date(reservation.startDate).getHours().toString().padStart(2, '0');\n  const startMinutes = new Date(reservation.startDate).getMinutes().toString().padStart(2, '0');\n\n  const endHours = new Date(reservation.finalDate).getHours().toString().padStart(2, '0');\n  const endMinutes = new Date(reservation.finalDate).getMinutes().toString().padStart(2, '0');\n\n  return `${initialDate} das ${startHour}:${startMinutes} ás ${endHours}:${endMinutes}`;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}