{"ast":null,"code":"import _classCallCheck from\"/home/shara/Workplace_Management/Backend/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/shara/Workplace_Management/Backend/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/shara/Workplace_Management/Backend/Frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/shara/Workplace_Management/Backend/Frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import Cookies from'universal-cookie';import axios from'axios';import{Navbar,Container,Nav}from\"react-bootstrap\";import styles from\"../css/Navbar.module.css\";import logo from\"../assets/imgs/logo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cookies=new Cookies();var NavBar=/*#__PURE__*/function(_Component){_inherits(NavBar,_Component);var _super=_createSuper(NavBar);function NavBar(){var _this;_classCallCheck(this,NavBar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.logout=function(){cookies.remove('id',{path:'/'});cookies.remove('last_login',{path:'/'});cookies.remove('is_superuser',{path:'/'});cookies.remove('username',{path:'/'});cookies.remove('email',{path:'/'});cookies.remove('first_name',{path:'/'});cookies.remove('last_name',{path:'/'});cookies.remove('full_name',{path:'/'});cookies.remove('birthday',{path:'/'});cookies.remove('gender',{path:'/'});cookies.remove('verification_code',{path:'/'});cookies.remove('is_staff',{path:'/'});cookies.remove('is_active',{path:'/'});cookies.remove('date_joined',{path:'/'});cookies.remove('updated',{path:'/'});cookies.remove('order',{path:'/'});cookies.remove('age',{path:'/'});cookies.remove('groups',{path:'/'});cookies.remove('user_permissions',{path:'/'});window.location.href='./';};return _this;}_createClass(NavBar,[{key:\"componentDidMount\",value:function componentDidMount(){var config={headers:{Authorization:'Token '+cookies.get('token')}};axios.get('http://127.0.0.1:8000/api/user/',config).then(function(response){console.log(response.data);});if(!cookies.get('email')){window.location.href='./';}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Navbar,{collapseOnSelect:true,expand:\"lg\",bg:\"dark\",variant:\"dark\",className:styles.navbar,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Link,{to:\"/newreservationpage\",children:/*#__PURE__*/_jsxs(Navbar.Brand,{children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logotype\"}),\"Encora reserves\"]})}),/*#__PURE__*/_jsxs(Navbar.Text,{className:\"justify-items-center\",children:[\"Welcome \",cookies.get('first_name')]}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"responsive-navbar-nav\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\",children:cookies.get('is_superuser')===true?/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:styles.navbar_target,children:\"Admin\"}):null}),/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(Link,{className:styles.navbar_target,to:\"/homepage\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{className:styles.navbar_target,to:\"/myreservations\",children:\"My bookings\"}),/*#__PURE__*/_jsx(Nav.Link,{className:styles.navbar_target,to:'/',onClick:function onClick(){return _this2.logout(true);},children:\"Logout\"})]})]})]})});}}]);return NavBar;}(Component);export default NavBar;","map":{"version":3,"names":["React","Component","Link","Cookies","axios","Navbar","Container","Nav","styles","logo","cookies","NavBar","logout","remove","path","window","location","href","config","headers","Authorization","get","then","response","console","log","data","navbar","navbar_target"],"sources":["/home/shara/Workplace_Management/Backend/Frontend/src/services/Navbar.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\n\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport styles from \"../css/Navbar.module.css\";\nimport logo from \"../assets/imgs/logo.png\";\n\nconst cookies = new Cookies();\n\nclass NavBar extends Component {\n\n  logout = () => {\n    cookies.remove('id', { path: '/' });\n    cookies.remove('last_login', { path: '/' });\n    cookies.remove('is_superuser', { path: '/' });\n    cookies.remove('username', { path: '/' });\n    cookies.remove('email', { path: '/' });\n    cookies.remove('first_name', { path: '/' });\n    cookies.remove('last_name', { path: '/' });\n    cookies.remove('full_name', { path: '/' });\n    cookies.remove('birthday', { path: '/' });\n    cookies.remove('gender', { path: '/' });\n    cookies.remove('verification_code', { path: '/' });\n    cookies.remove('is_staff', { path: '/' });\n    cookies.remove('is_active', { path: '/' });\n    cookies.remove('date_joined', { path: '/' });\n    cookies.remove('updated', { path: '/' });\n    cookies.remove('order', { path: '/' });\n    cookies.remove('age', { path: '/' });\n    cookies.remove('groups', { path: '/' });\n    cookies.remove('user_permissions', { path: '/' });\n\n    window.location.href = './';\n  };\n\n  componentDidMount() {\n    let config = {\n      headers: {\n        Authorization: 'Token ' + cookies.get('token'),\n      }\n    }\n    axios.get('http://127.0.0.1:8000/api/user/', config)\n      .then(response => {\n        console.log(response.data);\n      })\n    if (!cookies.get('email')) {\n      window.location.href = './';\n    }\n  };\n\n  render() {\n    return (\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" className={styles.navbar}>\n        <Container>\n          <Link to={\"/newreservationpage\"}>\n            <Navbar.Brand>\n              <img src={logo} alt=\"logotype\" />\n              Encora reserves\n            </Navbar.Brand>\n          </Link>\n          <Navbar.Text className=\"justify-items-center\">Welcome {cookies.get('first_name')}</Navbar.Text>\n\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\n            <Nav className=\"me-auto\">\n              {cookies.get('is_superuser') === true ? (\n                <Link to={\"/admin\"} className={styles.navbar_target}>\n                  Admin\n                </Link>\n              ) : null}\n            </Nav>\n            <Nav>\n              <Link className={styles.navbar_target} to={\"/homepage\"}>\n                Home\n              </Link>\n              <Link className={styles.navbar_target} to={\"/myreservations\"}>\n                My bookings\n              </Link>\n              <Nav.Link className={styles.navbar_target} to={'/'} onClick={() => this.logout(true)}>\n                Logout\n              </Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container >\n      </Navbar >\n    );\n  };\n}\n\nexport default NavBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}