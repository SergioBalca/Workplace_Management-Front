{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management/Frontend/src/components/pages/my-reservations/MyBookings.jsx\",\n    _s = $RefreshSig$();\n\nimport { ListGroup, Card } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport styles from \"../../../css/my-reservation.module.css\";\nimport ModalCustom from \"../../../services/ModalCustom\";\nimport { FormButton } from \"../../../services/Buttons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const getStation = async name => {\n  return await api.get(`/stations/${name}`);\n};\nexport const deleteBooking = async id => {\n  return await api.delete(`/booking/${id}`);\n};\nexport const MyReservationList = _ref => {\n  _s();\n\n  let {\n    bookings\n  } = _ref;\n  const [showList, setShowList] = useState(true);\n  const [stationSelected, setStationSelected] = useState();\n  const [showModal, setShowModal] = useState(false);\n  const date = new Date(bookings.startDate).toLocaleDateString();\n  const hour = new Date(bookings.startDate).getHours().toString().padStart(2, \"0\");\n  const minutes = new Date(bookings.startDate).getMinutes().toString().padStart(2, \"0\");\n  const hourFinal = new Date(bookings.finalDate).getHours().toString().padStart(2, \"0\");\n  const minutesFinal = new Date(bookings.finalDate).getMinutes().toString().padStart(2, \"0\");\n\n  const handleClick = async (e, stationName) => {\n    e.preventDefault();\n\n    try {\n      const station = await getStation(stationName);\n      setStationSelected(station.data[0]);\n      setShowList(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleConfirmClick = async bookings => {\n    try {\n      await deleteBooking(bookings._id);\n      console.log(\"reserva deletado com sucesso\");\n      document.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n\n    setShowModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showList ? /*#__PURE__*/_jsxDEV(ListGroup, {\n      className: styles.area_booking,\n      children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [bookings.stationName, \": \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), date, \" das \", hour, \":\", minutes, \" \\xE0s \", hourFinal, \":\", minutesFinal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormButton, {\n          text: \"deletar\",\n          handleClick: () => setShowModal(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormButton, {\n          text: \"ver maca\",\n          handleClick: e => handleClick(e, bookings.stationName)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"18rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n        variant: \"top\",\n        src: stationSelected.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: stationSelected.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.button,\n          children: /*#__PURE__*/_jsxDEV(FormButton, {\n            text: \"fechar\",\n            handleClick: () => setShowList(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalCustom, {\n      showModal: showModal,\n      setShowModal: setShowModal,\n      title: \"Tem certeza que deseja exluir a reserva?\",\n      handleConfirmClick: () => handleConfirmClick(bookings)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MyReservationList, \"sLfJ0PBS42ZXnqma+SbONb2Enuk=\");\n\n_c = MyReservationList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyReservationList\");","map":{"version":3,"names":["ListGroup","Card","React","useState","axios","styles","ModalCustom","FormButton","getStation","name","api","get","deleteBooking","id","delete","MyReservationList","bookings","showList","setShowList","stationSelected","setStationSelected","showModal","setShowModal","date","Date","startDate","toLocaleDateString","hour","getHours","toString","padStart","minutes","getMinutes","hourFinal","finalDate","minutesFinal","handleClick","e","stationName","preventDefault","station","data","error","console","log","handleConfirmClick","_id","document","location","reload","area_booking","width","image","button"],"sources":["/home/shara/Workplace_Management/Frontend/src/components/pages/my-reservations/MyBookings.jsx"],"sourcesContent":["import { ListGroup, Card } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\n\nimport styles from \"../../../css/my-reservation.module.css\";\nimport ModalCustom from \"../../../services/ModalCustom\";\nimport { FormButton } from \"../../../services/Buttons\";\n\nexport const getStation = async (name) => {\n  return await api.get(`/stations/${name}`)\n}\n\nexport const deleteBooking = async (id) => {\n  return await api.delete(`/booking/${id}`)\n}\n\nexport const MyReservationList = ({ bookings }) => {\n  const [showList, setShowList] = useState(true);\n  const [stationSelected, setStationSelected] = useState();\n  const [showModal, setShowModal] = useState(false);\n\n  const date = new Date(bookings.startDate).toLocaleDateString();\n  const hour = new Date(bookings.startDate)\n    .getHours()\n    .toString()\n    .padStart(2, \"0\");\n  const minutes = new Date(bookings.startDate)\n    .getMinutes()\n    .toString()\n    .padStart(2, \"0\");\n\n  const hourFinal = new Date(bookings.finalDate)\n    .getHours()\n    .toString()\n    .padStart(2, \"0\");\n  const minutesFinal = new Date(bookings.finalDate)\n    .getMinutes()\n    .toString()\n    .padStart(2, \"0\");\n\n  const handleClick = async (e, stationName) => {\n    e.preventDefault();\n    try {\n      const station = await getStation(stationName);\n      setStationSelected(station.data[0]);\n      setShowList(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleConfirmClick = async bookings => {\n    try {\n      await deleteBooking(bookings._id);\n      console.log(\"reserva deletado com sucesso\");\n      document.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n    setShowModal(false);\n  };\n\n  return (\n    <>\n      {showList ? (\n        <ListGroup className={styles.area_booking}>\n          <ListGroup.Item>\n            <span>\n              <strong>{bookings.stationName}: </strong>\n              {date} das {hour}:{minutes} Ã s {hourFinal}:{minutesFinal}\n            </span>\n            <FormButton text=\"deletar\" handleClick={() => setShowModal(true)} />\n            <FormButton text=\"ver maca\" handleClick={e => handleClick(e, bookings.stationName)} />\n          </ListGroup.Item>\n        </ListGroup>\n      ) : (\n        <Card style={{ width: \"18rem\" }}>\n          <Card.Img variant=\"top\" src={stationSelected.image} />\n          <Card.Body>\n            <Card.Title>{stationSelected.name}</Card.Title>\n            <div className={styles.button}>\n              <FormButton text=\"fechar\" handleClick={() => setShowList(true)} />\n            </div>\n          </Card.Body>\n        </Card>\n      )}\n      <ModalCustom\n        showModal={showModal}\n        setShowModal={setShowModal}\n        title=\"Tem certeza que deseja exluir a reserva?\"\n        handleConfirmClick={() => handleConfirmClick(bookings)}\n      />\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}