{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management/Frontend/src/components/pages/admin/UsersAdmin.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport { Table, Button, Spinner } from \"react-bootstrap\";\nimport ModalCustom from \"../../../services/ModalCustom\";\nimport Alert from \"../../../services/Alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const getUsers = async () => {\n  return await api.get(\"/users\");\n};\nexport const deleteUser = async id => {\n  return await api.delete(`/users/${id}`);\n};\n\nconst UsersAdmin = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [showModal, setShowModal] = useState();\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [userdelete, setDeleteUser] = useState(\"\");\n  const [isloading, setIsloading] = useState();\n  useEffect(() => {\n    setIsloading(true);\n\n    const FetchMyapi = async () => {\n      try {\n        const users = await getUsers();\n        setUsers(users.data);\n        setIsloading(false);\n      } catch (error) {\n        console.log(error);\n        setErrorMsg(\"erro ao carregar os usuários\");\n        setIsloading(false);\n      }\n    };\n\n    FetchMyapi();\n  }, []);\n\n  const handleDelete = async user => {\n    try {\n      const id = user._id;\n      await deleteUser(id);\n      setShowModal(false);\n      document.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isloading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        justifyContent: \"center\",\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: users.length !== 0 ? /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        style: {\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tatuador\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nivel Acesso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map(user => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.nivelUser === 1 ? \"Administrador\" : \"Usuário\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"dark\",\n                  onClick: () => {\n                    setDeleteUser(user);\n                    setShowModal(true);\n                    console.log(user);\n                  },\n                  children: \"deletar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(ModalCustom, {\n                  showModal: showModal,\n                  setShowModal: setShowModal,\n                  title: \"Excluir um usu\\xE1rio\",\n                  textBody: `Tem certeza que deseja excluir o usuário ${userdelete.username}`,\n                  handleConfirmClick: () => {\n                    handleDelete(userdelete);\n                    console.log(userdelete);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 23\n              }, this)]\n            }, user._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n        msg: errorMsg,\n        severity: \"error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(UsersAdmin, \"D0WsOhHgXr/8t68S9ByIJHWdbfU=\");\n\n_c = UsersAdmin;\nexport default UsersAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersAdmin\");","map":{"version":3,"names":["React","useEffect","useState","axios","Table","Button","Spinner","ModalCustom","Alert","getUsers","api","get","deleteUser","id","delete","UsersAdmin","users","setUsers","showModal","setShowModal","errorMsg","setErrorMsg","userdelete","setDeleteUser","isloading","setIsloading","FetchMyapi","data","error","console","log","handleDelete","user","_id","document","location","reload","err","justifyContent","textAlign","marginTop","length","map","username","nivelUser"],"sources":["/home/shara/Workplace_Management/Frontend/src/components/pages/admin/UsersAdmin.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\n\nimport { Table, Button, Spinner } from \"react-bootstrap\";\nimport ModalCustom from \"../../../services/ModalCustom\";\nimport Alert from \"../../../services/Alert\";\n\n\nexport const getUsers = async () => {\n  return await api.get(\"/users\")\n}\n\nexport const deleteUser = async (id) => {\n  return await api.delete(`/users/${id}`)\n}\n\nconst UsersAdmin = () => {\n  const [users, setUsers] = useState([]);\n  const [showModal, setShowModal] = useState();\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [userdelete, setDeleteUser] = useState(\"\");\n  const [isloading, setIsloading] = useState();\n\n  useEffect(() => {\n    setIsloading(true);\n    const FetchMyapi = async () => {\n      try {\n        const users = await getUsers();\n        setUsers(users.data);\n        setIsloading(false);\n      } catch (error) {\n        console.log(error);\n        setErrorMsg(\"erro ao carregar os usuários\");\n        setIsloading(false);\n      }\n    };\n    FetchMyapi();\n  }, []);\n\n  const handleDelete = async (user) => {\n    try {\n      const id = user._id;\n      await deleteUser(id);\n      setShowModal(false);\n      document.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <>\n      {isloading ? (\n        <div style={{ justifyContent: \"center\", textAlign: \"center\" }}>\n          <Spinner animation=\"border\" />\n        </div>\n      ) : (\n        <div style={{ marginTop: \"20px\" }}>\n          {users.length !== 0 ? (\n            <Table striped bordered hover style={{ marginTop: \"20px\" }}>\n              <thead>\n                <tr>\n                  <th>Tatuador</th>\n                  <th>Nivel Acesso</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((user) => {\n                  return (\n                    <tr key={user._id}>\n                      <td>{user.username}</td>\n                      <td>{user.nivelUser === 1 ? \"Administrador\" : \"Usuário\"}</td>\n                      <td>\n                        <Button\n                          variant=\"dark\"\n                          onClick={() => {\n                            setDeleteUser(user);\n                            setShowModal(true);\n                            console.log(user);\n                          }}\n                        >\n                          deletar\n                        </Button>\n                        <ModalCustom\n                          showModal={showModal}\n                          setShowModal={setShowModal}\n                          title=\"Excluir um usuário\"\n                          textBody={`Tem certeza que deseja excluir o usuário ${userdelete.username}`}\n                          handleConfirmClick={() => {\n                            handleDelete(userdelete);\n                            console.log(userdelete);\n                          }}\n                        />\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          ) : (\n            <Alert msg={errorMsg} severity=\"error\" />\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default UsersAdmin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}