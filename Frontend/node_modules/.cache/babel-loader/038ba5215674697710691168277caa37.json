{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management/Frontend/src/components/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\nimport styles from \"../../css/Login.module.css\";\nimport logo from \"../../assets/imgs/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://127.0.0.1:8000/api/login';\nconst cookies = new Cookies();\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        email: '',\n        password: ''\n      }\n    };\n\n    this.handleChange = async e => {\n      await this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.iniciarSesion = async () => {\n      await axios.get(baseUrl, {\n        params: {\n          email: this.state.form.email,\n          password: this.state.form.password\n        }\n      }).then(response => {\n        return response.data;\n      }).then(response => {\n        if (response.length > 0) {\n          var respuesta = response[0];\n          cookies.set('id', respuesta.id, {\n            path: '/'\n          });\n          cookies.set('last_login', respuesta.last_login, {\n            path: '/'\n          });\n          cookies.set('is_superuser', respuesta.is_superuser, {\n            path: '/'\n          });\n          cookies.set('username', respuesta.username, {\n            path: '/'\n          });\n          cookies.set('email', respuesta.email, {\n            path: '/'\n          });\n          cookies.set('first_name', respuesta.first_name, {\n            path: '/'\n          });\n          cookies.set('last_name', respuesta.last_name, {\n            path: '/'\n          });\n          cookies.set('full_name', respuesta.full_name, {\n            path: '/'\n          });\n          cookies.set('birthday', respuesta.birthday, {\n            path: '/'\n          });\n          cookies.set('gender', respuesta.gender, {\n            path: '/'\n          });\n          cookies.set('verification_code', respuesta.verification_code, {\n            path: '/'\n          });\n          cookies.set('is_staff', respuesta.is_staff, {\n            path: '/'\n          });\n          cookies.set('is_active', respuesta.is_active, {\n            path: '/'\n          });\n          cookies.set('date_joined', respuesta.date_joined, {\n            path: '/'\n          });\n          cookies.set('updated', respuesta.updated, {\n            path: '/'\n          });\n          cookies.set('order', respuesta.order, {\n            path: '/'\n          });\n          cookies.set('age', respuesta.age, {\n            path: '/'\n          });\n          cookies.set('groups', respuesta.groups, {\n            path: '/'\n          });\n          cookies.set('user_permissions', respuesta.user_permissions, {\n            path: '/'\n          });\n          alert(`Welcome ${respuesta.first_name}`);\n          window.location.href = './menu';\n        } else {\n          alert('Email or password does not match');\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (cookies.get('email')) {\n      window.location.href = './menu';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerPrincipal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerSecundario\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"email\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            name: \"password\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => this.iniciarSesion(),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","Component","Link","Cookies","axios","styles","logo","baseUrl","cookies","Login","state","form","email","password","handleChange","e","setState","target","name","value","iniciarSesion","get","params","then","response","data","length","respuesta","set","id","path","last_login","is_superuser","username","first_name","last_name","full_name","birthday","gender","verification_code","is_staff","is_active","date_joined","updated","order","age","groups","user_permissions","alert","window","location","href","catch","err","console","log","componentDidMount","render"],"sources":["/home/shara/Workplace_Management/Frontend/src/components/pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\n\nimport styles from \"../../css/Login.module.css\";\nimport logo from \"../../assets/imgs/logo.png\";\n\nconst baseUrl = 'http://127.0.0.1:8000/api/login';\nconst cookies = new Cookies();\n\n\nclass Login extends Component {\n  state = {\n      form:{\n          email: '',\n          password: ''\n      }\n  }\n\n  handleChange=async e=> {\n      await this.setState({\n          form:{\n              ...this.state.form,\n              [e.target.name]: e.target.value\n          }\n      });\n  }\n\n  iniciarSesion=async() => {\n      await axios.get(baseUrl, {params: {email: this.state.form.email, password: this.state.form.password}})\n      .then(response => {\n          return response.data;\n      })\n      .then(response => {\n          if (response.length > 0) {\n              var respuesta=response[0];\n              cookies.set('id', respuesta.id, {path: '/'});\n              cookies.set('last_login', respuesta.last_login, {path: '/'});\n              cookies.set('is_superuser', respuesta.is_superuser, {path: '/'});\n              cookies.set('username', respuesta.username, {path: '/'});\n              cookies.set('email', respuesta.email, {path: '/'});\n              cookies.set('first_name', respuesta.first_name, {path: '/'});\n              cookies.set('last_name', respuesta.last_name, {path: '/'});\n              cookies.set('full_name', respuesta.full_name, {path: '/'});\n              cookies.set('birthday', respuesta.birthday, {path: '/'});\n              cookies.set('gender', respuesta.gender, {path: '/'});\n              cookies.set('verification_code', respuesta.verification_code, {path: '/'});\n              cookies.set('is_staff', respuesta.is_staff, {path: '/'});\n              cookies.set('is_active', respuesta.is_active, {path: '/'});\n              cookies.set('date_joined', respuesta.date_joined, {path: '/'});\n              cookies.set('updated', respuesta.updated, {path: '/'});\n              cookies.set('order', respuesta.order, {path: '/'});\n              cookies.set('age', respuesta.age, {path: '/'});\n              cookies.set('groups', respuesta.groups, {path: '/'});\n              cookies.set('user_permissions', respuesta.user_permissions, {path: '/'});\n              alert(`Welcome ${respuesta.first_name}`);\n\n              window.location.href = './menu';\n\n          } else{\n              alert('Email or password does not match');\n          }\n      })\n      .catch(err => {\n          console.log(err);\n      })\n  }\n\n  componentDidMount() {\n      if (cookies.get('email')) {\n          window.location.href = './menu';\n      }\n  }\n\n  render() {\n      return (\n      <div className='containerPrincipal'>\n          <div className='containerSecundario'>\n              <div className='form-group'>\n                  <label>Email: </label>\n                  <br />\n                  <input\n                      type='text'\n                      className='form-control'\n                      name='email'\n                      onChange={this.handleChange}\n                  />\n                  <br />\n                  <label>Password: </label>\n                  <br />\n                  <input\n                      type='password'\n                      className='form-control'\n                      name='password'\n                      onChange={this.handleChange}\n                  />\n                  <br />\n                  <button className='btn btn-primary' onClick={() => this.iniciarSesion()} >Login</button>\n              </div>\n          </div>\n      </div>\n  );\n}\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}