{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management/Frontend/src/components/pages/Login.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\nimport '../../css/Login.module.css';\nimport logo from \"../../assets/imgs/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://127.0.0.1:8000/api/login';\nconst cookies = new Cookies();\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleChange = e => {\n      this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n  }\n\n  // iniciarSesion = async () => {\n  //   console.log(this.state.form);\n  //   await axios.post(baseUrl, { username: this.state.form.username, password: this.state.form.password })\n  //     .then(response => {\n  //       cookies.set('token', response.data)\n  //       return response.data;\n  //     })\n  //     .then(response => {\n  //       if (response.length > 0) {\n  //         var respuesta = response[0];\n  //         cookies.set('id', respuesta.id, { path: '/' });\n  //         cookies.set('last_login', respuesta.last_login, { path: '/' });\n  //         cookies.set('is_superuser', respuesta.is_superuser, { path: '/' });\n  //         cookies.set('username', respuesta.username, { path: '/' });\n  //         cookies.set('email', respuesta.email, { path: '/' });\n  //         cookies.set('first_name', respuesta.first_name, { path: '/' });\n  //         cookies.set('last_name', respuesta.last_name, { path: '/' });\n  //         cookies.set('full_name', respuesta.full_name, { path: '/' });\n  //         cookies.set('birthday', respuesta.birthday, { path: '/' });\n  //         cookies.set('gender', respuesta.gender, { path: '/' });\n  //         cookies.set('verification_code', respuesta.verification_code, { path: '/' });\n  //         cookies.set('is_staff', respuesta.is_staff, { path: '/' });\n  //         cookies.set('is_active', respuesta.is_active, { path: '/' });\n  //         cookies.set('date_joined', respuesta.date_joined, { path: '/' });\n  //         cookies.set('updated', respuesta.updated, { path: '/' });\n  //         cookies.set('order', respuesta.order, { path: '/' });\n  //         cookies.set('age', respuesta.age, { path: '/' });\n  //         cookies.set('groups', respuesta.groups, { path: '/' });\n  //         cookies.set('user_permissions', respuesta.user_permissions, { path: '/' });\n  //         window.location.href = './menu';\n  //       } else {\n  //         alert('Username or password does not match');\n  //       }\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     })\n  // };\n  componentDidMount() {\n    if (cookies.get('username')) {\n      window.location.href = './menu';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container_login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login_box\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"Logotype\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter your email address\",\n            name: \"email\",\n            id: \"email\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Enter your password\",\n            id: \"password\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn_area\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: () => this.iniciarSesion(),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center links\",\n            children: [\"Don't have an account?\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              href: \"#\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","Component","Link","Cookies","axios","logo","baseUrl","cookies","Login","handleChange","e","setState","form","state","target","name","value","handleSubmit","preventDefault","componentDidMount","get","window","location","href","render","iniciarSesion"],"sources":["/home/shara/Workplace_Management/Frontend/src/components/pages/Login.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\n\nimport '../../css/Login.module.css';\nimport logo from \"../../assets/imgs/logo.png\";\n\nconst baseUrl = 'http://127.0.0.1:8000/api/login';\nconst cookies = new Cookies();\n\nclass Login extends Component {\n\n  handleChange = e => {\n    this.setState({\n      form: {\n        ...this.state.form,\n        [e.target.name]: e.target.value\n      }\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n  };\n\n\n  // iniciarSesion = async () => {\n  //   console.log(this.state.form);\n  //   await axios.post(baseUrl, { username: this.state.form.username, password: this.state.form.password })\n  //     .then(response => {\n  //       cookies.set('token', response.data)\n  //       return response.data;\n  //     })\n  //     .then(response => {\n  //       if (response.length > 0) {\n  //         var respuesta = response[0];\n  //         cookies.set('id', respuesta.id, { path: '/' });\n  //         cookies.set('last_login', respuesta.last_login, { path: '/' });\n  //         cookies.set('is_superuser', respuesta.is_superuser, { path: '/' });\n  //         cookies.set('username', respuesta.username, { path: '/' });\n  //         cookies.set('email', respuesta.email, { path: '/' });\n  //         cookies.set('first_name', respuesta.first_name, { path: '/' });\n  //         cookies.set('last_name', respuesta.last_name, { path: '/' });\n  //         cookies.set('full_name', respuesta.full_name, { path: '/' });\n  //         cookies.set('birthday', respuesta.birthday, { path: '/' });\n  //         cookies.set('gender', respuesta.gender, { path: '/' });\n  //         cookies.set('verification_code', respuesta.verification_code, { path: '/' });\n  //         cookies.set('is_staff', respuesta.is_staff, { path: '/' });\n  //         cookies.set('is_active', respuesta.is_active, { path: '/' });\n  //         cookies.set('date_joined', respuesta.date_joined, { path: '/' });\n  //         cookies.set('updated', respuesta.updated, { path: '/' });\n  //         cookies.set('order', respuesta.order, { path: '/' });\n  //         cookies.set('age', respuesta.age, { path: '/' });\n  //         cookies.set('groups', respuesta.groups, { path: '/' });\n  //         cookies.set('user_permissions', respuesta.user_permissions, { path: '/' });\n\n  //         window.location.href = './menu';\n\n  //       } else {\n  //         alert('Username or password does not match');\n  //       }\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     })\n  // };\n\n  componentDidMount() {\n    if (cookies.get('username')) {\n      window.location.href = './menu';\n    }\n  };\n\n  render() {\n    return (\n      <div className='container_login'>\n        <div className='login_box'>\n          <form onSubmit={this.handleSubmit}>\n\n            <img src={logo} alt=\"Logotype\" />\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type='text'\n              placeholder=\"Enter your email address\"\n              name='email'\n              id='email'\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type='password'\n              placeholder=\"Enter your password\"\n              id='password'\n              onChange={this.handleChange}\n            />\n            <div className='btn_area'>\n              <button className='btn' onClick={() => this.iniciarSesion()}>Login</button>\n            </div>\n            <div className=\"d-flex justify-content-center links\">\n              Don't have an account?&nbsp;\n                <Link to='/signup' href=\"#\">Register</Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,4BAAP;AACA,OAAOC,IAAP,MAAiB,4BAAjB;;AAEA,MAAMC,OAAO,GAAG,iCAAhB;AACA,MAAMC,OAAO,GAAG,IAAIJ,OAAJ,EAAhB;;AAEA,MAAMK,KAAN,SAAoBP,SAApB,CAA8B;EAAA;IAAA;;IAAA,KAE5BQ,YAF4B,GAEbC,CAAC,IAAI;MAClB,KAAKC,QAAL,CAAc;QACZC,IAAI,EAAE,EACJ,GAAG,KAAKC,KAAL,CAAWD,IADV;UAEJ,CAACF,CAAC,CAACI,MAAF,CAASC,IAAV,GAAiBL,CAAC,CAACI,MAAF,CAASE;QAFtB;MADM,CAAd;IAMD,CAT2B;;IAAA,KAW5BC,YAX4B,GAWbP,CAAC,IAAI;MAClBA,CAAC,CAACQ,cAAF;IACD,CAb2B;EAAA;;EAgB5B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC,iBAAiB,GAAG;IAClB,IAAIZ,OAAO,CAACa,GAAR,CAAY,UAAZ,CAAJ,EAA6B;MAC3BC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;IACD;EACF;;EAEDC,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,WAAf;QAAA,uBACE;UAAM,QAAQ,EAAE,KAAKP,YAArB;UAAA,wBAEE;YAAK,GAAG,EAAEZ,IAAV;YAAgB,GAAG,EAAC;UAApB;YAAA;YAAA;YAAA;UAAA,QAFF,eAGE;YAAO,OAAO,EAAC,OAAf;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAHF,eAIE;YACE,IAAI,EAAC,MADP;YAEE,WAAW,EAAC,0BAFd;YAGE,IAAI,EAAC,OAHP;YAIE,EAAE,EAAC,OAJL;YAKE,QAAQ,EAAE,KAAKI;UALjB;YAAA;YAAA;YAAA;UAAA,QAJF,eAWE;YAAO,OAAO,EAAC,UAAf;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAXF,eAYE;YACE,IAAI,EAAC,UADP;YAEE,WAAW,EAAC,qBAFd;YAGE,EAAE,EAAC,UAHL;YAIE,QAAQ,EAAE,KAAKA;UAJjB;YAAA;YAAA;YAAA;UAAA,QAZF,eAkBE;YAAK,SAAS,EAAC,UAAf;YAAA,uBACE;cAAQ,SAAS,EAAC,KAAlB;cAAwB,OAAO,EAAE,MAAM,KAAKgB,aAAL,EAAvC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAlBF,eAqBE;YAAK,SAAS,EAAC,qCAAf;YAAA,sDAEI,QAAC,IAAD;cAAM,EAAE,EAAC,SAAT;cAAmB,IAAI,EAAC,GAAxB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QArBF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAgCD;;AAhG2B;;AAmG9B,eAAejB,KAAf"},"metadata":{},"sourceType":"module"}