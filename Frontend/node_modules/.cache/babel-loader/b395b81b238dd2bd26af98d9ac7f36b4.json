{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management/Frontend/src/services/Navbar.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport styles from \"../css/Navbar.module.css\";\nimport logo from \"../assets/imgs/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst baseURL = `http://localhost:8000/api/user/${localStorage.getItem('user_id')}`;\n\nclass NavBar extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.logout = () => {\n      cookies.remove('user_id', {\n        path: '/'\n      });\n      cookies.remove('token', {\n        path: '/'\n      });\n      cookies.remove('email', {\n        path: '/'\n      });\n      localStorage.removeItem('user_id');\n      window.location.href = './';\n    };\n  }\n\n  componentDidMount() {\n    let config = {\n      headers: {\n        \"Authorization\": 'Token ' + cookies.get('token'),\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\"\n      }\n    };\n    fetch(baseURL, config).then(response => {\n      console.log(response.data);\n    });\n\n    if (!cookies.get('email')) {\n      window.location.href = './';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Navbar, {\n      collapseOnSelect: true,\n      expand: \"lg\",\n      bg: \"dark\",\n      variant: \"dark\",\n      className: styles.navbar,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/encora_map\",\n          children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"logotype\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), \"Encora reserves\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Text, {\n          className: \"justify-items-center\",\n          children: [\"Welcome \", cookies.get('first_name')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n          \"aria-controls\": \"responsive-navbar-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          id: \"responsive-navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(Nav, {\n            className: \"me-auto\",\n            children: cookies.get(baseURL) === 'is_staff' ? /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin\",\n              className: styles.navbar_target,\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Nav, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              className: styles.navbar_target,\n              to: \"/homepage\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: styles.navbar_target,\n              to: \"/myreservations\",\n              children: \"My bookings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: styles.navbar_target,\n              to: '/',\n              onClick: () => this.logout(true),\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default NavBar;","map":{"version":3,"names":["React","Component","Link","Cookies","axios","Navbar","Container","Nav","styles","logo","cookies","baseURL","localStorage","getItem","NavBar","logout","remove","path","removeItem","window","location","href","componentDidMount","config","headers","get","fetch","then","response","console","log","data","render","navbar","navbar_target"],"sources":["/home/shara/Workplace_Management/Frontend/src/services/Navbar.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\n\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport styles from \"../css/Navbar.module.css\";\nimport logo from \"../assets/imgs/logo.png\";\n\nconst cookies = new Cookies();\nconst baseURL = `http://localhost:8000/api/user/${localStorage.getItem('user_id')}`;\n\nclass NavBar extends Component {\n\n  logout = () => {\n    cookies.remove('user_id', { path: '/' });\n    cookies.remove('token', { path: '/' });\n    cookies.remove('email', { path: '/' });\n    localStorage.removeItem('user_id');\n\n    window.location.href = './';\n  };\n\n  componentDidMount() {\n    let config = {\n      headers: {\n        \"Authorization\": 'Token ' + cookies.get('token'),\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\"\n\n      }\n    }\n    fetch(baseURL, config)\n      .then(response => {\n        console.log(response.data);\n      })\n    if (!cookies.get('email')) {\n      window.location.href = './';\n    }\n  };\n\n  render() {\n    return (\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" className={styles.navbar}>\n        <Container>\n          <Link to={\"/encora_map\"}>\n            <Navbar.Brand>\n              <img src={logo} alt=\"logotype\" />\n              Encora reserves\n            </Navbar.Brand>\n          </Link>\n          <Navbar.Text className=\"justify-items-center\">Welcome {cookies.get('first_name')}</Navbar.Text>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\n            <Nav className=\"me-auto\">\n              {cookies.get(baseURL) === 'is_staff' ? (\n                <Link to={\"/admin\"} className={styles.navbar_target}>\n                  Admin\n                </Link>\n              ) : null}\n            </Nav>\n            <Nav>\n              <Link className={styles.navbar_target} to={\"/homepage\"}>\n                Home\n              </Link>\n              <Link className={styles.navbar_target} to={\"/myreservations\"}>\n                My bookings\n              </Link>\n              <Nav.Link className={styles.navbar_target} to={'/'} onClick={() => this.logout(true)}>\n                Logout\n              </Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container >\n      </Navbar >\n    );\n  };\n}\n\nexport default NavBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}