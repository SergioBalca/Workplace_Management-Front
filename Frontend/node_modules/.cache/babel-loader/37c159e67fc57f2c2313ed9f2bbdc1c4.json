{"ast":null,"code":"var _jsxFileName = \"/home/shara/Workplace_Management/Frontend/src/components/pages/admin/BookingAdmin.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { getBookingsbyDay } from \"../../../services/api\";\nimport Calendar from \"react-calendar\";\nimport { Container, Row, Col, Spinner, Alert, Table } from \"react-bootstrap\";\nimport styles from \"../../../css/BookingAdmin.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookingAdmin = () => {\n  _s();\n\n  const [bookings, setBookings] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const handleOnChange = async e => {\n    setShowAlert(false);\n    setBookings([]);\n    setIsLoading(true);\n    const date = new Date(e).setUTCHours(3);\n\n    try {\n      const FetchBookings = await getBookingsbyDay(new Date(date));\n      const bookingArry = FetchBookings.data;\n\n      if (bookingArry.length === 0) {\n        setErrorMsg(\"Não existem reservas para este dia\");\n        setIsLoading(false);\n        setShowAlert(true);\n        return;\n      }\n\n      setBookings(FetchBookings.data);\n      setIsLoading(false);\n    } catch (error) {\n      console.log(error);\n      setErrorMsg(\"Erro ao carregar reservas\");\n      setIsLoading(false);\n      setShowAlert(true);\n    }\n  };\n\n  const showHour = booking => {\n    // função responsavel de pegar os horários e converter corretamente para mostrar na tabela\n    const startTime = new Date(booking.startDate);\n    const finalTime = new Date(booking.finalDate);\n    return `${String(startTime.getHours()).padStart(2, \"0\")}:${String(startTime.getMinutes()).padStart(2, \"0\")}\n     até ${String(finalTime.getHours()).padStart(2, \"0\")}:${String(finalTime.getMinutes()).padStart(2, \"0\")}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Selecione o dia para verificar as reservas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n          onChange: e => handleOnChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.spinner_area,\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: errorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), bookings.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          style: {\n            marginTop: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Maca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tatuador\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Hor\\xE1rio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: bookings.map(booking => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: booking.stationName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: booking.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: showHour(booking)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 23\n                }, this)]\n              }, booking._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookingAdmin, \"Qby2Jkt0R1cRgVc8hbBgQfyxsjw=\");\n\n_c = BookingAdmin;\nexport default BookingAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookingAdmin\");","map":{"version":3,"names":["React","useState","getBookingsbyDay","Calendar","Container","Row","Col","Spinner","Alert","Table","styles","BookingAdmin","bookings","setBookings","isLoading","setIsLoading","showAlert","setShowAlert","errorMsg","setErrorMsg","handleOnChange","e","date","Date","setUTCHours","FetchBookings","bookingArry","data","length","error","console","log","showHour","booking","startTime","startDate","finalTime","finalDate","String","getHours","padStart","getMinutes","spinner_area","marginTop","map","stationName","username","_id"],"sources":["/home/shara/Workplace_Management/Frontend/src/components/pages/admin/BookingAdmin.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { getBookingsbyDay } from \"../../../services/api\";\n\nimport Calendar from \"react-calendar\";\n\nimport { Container, Row, Col, Spinner, Alert, Table } from \"react-bootstrap\";\nimport styles from \"../../../css/BookingAdmin.module.css\";\n\nconst BookingAdmin = () => {\n  const [bookings, setBookings] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const handleOnChange = async (e) => {\n    setShowAlert(false);\n    setBookings([]);\n    setIsLoading(true);\n    const date = new Date(e).setUTCHours(3);\n    try {\n      const FetchBookings = await getBookingsbyDay(new Date(date));\n      const bookingArry = FetchBookings.data;\n      if (bookingArry.length === 0) {\n        setErrorMsg(\"Não existem reservas para este dia\");\n        setIsLoading(false);\n        setShowAlert(true);\n        return;\n      }\n      setBookings(FetchBookings.data);\n      setIsLoading(false);\n    } catch (error) {\n      console.log(error);\n      setErrorMsg(\"Erro ao carregar reservas\");\n      setIsLoading(false);\n      setShowAlert(true);\n    }\n  };\n\n  const showHour = (booking) => {   // função responsavel de pegar os horários e converter corretamente para mostrar na tabela\n    const startTime = new Date(booking.startDate);\n    const finalTime = new Date(booking.finalDate);\n    return `${String(startTime.getHours()).padStart(2, \"0\")}:${String(startTime.getMinutes()).padStart(2,\"0\")}\n     até ${String(finalTime.getHours()).padStart(2, \"0\")}:${String(finalTime.getMinutes()).padStart(2, \"0\")}`;\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <p>Selecione o dia para verificar as reservas</p>\n          <Calendar onChange={(e) => handleOnChange(e)} />\n        </Col>\n        <Col>\n          {isLoading && (\n            <div className={styles.spinner_area}>\n              <Spinner animation=\"border\" />\n            </div>\n          )}\n          {showAlert && <Alert variant=\"danger\">{errorMsg}</Alert>}\n          {bookings.length > 0 && (\n            <Table striped bordered hover style={{ marginTop: \"20px\" }}>\n              <thead>\n                <tr>\n                  <th>Maca</th>\n                  <th>Tatuador</th>\n                  <th>Horário</th>\n                </tr>\n              </thead>\n              <tbody>\n                {bookings.map((booking) => {\n                  return (\n                    <tr key={booking._id}>\n                      <td>{booking.stationName}</td>\n                      <td>{booking.username}</td>\n                      <td>{showHour(booking)}</td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default BookingAdmin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}